<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Examen SCRUM Product Owner Professional Certificate (SPOPC)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }

        .header h1 {
            color: #667eea;
            font-size: 2.2em;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .header p {
            color: #666;
            font-size: 1.1em;
        }

        .progress-container {
            margin-bottom: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            padding: 5px;
        }

        .progress-bar {
            height: 25px;
            background: linear-gradient(90deg, #667eea, #764ba2);
            border-radius: 12px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
            font-size: 0.9em;
            width: 0%;
        }

        .question-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #667eea;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .question-header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .question-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            margin-right: 15px;
            min-width: 80px;
            text-align: center;
        }

        .question-text {
            flex: 1;
            font-size: 1.1em;
            line-height: 1.5;
            color: #333;
        }

        .options {
            margin-bottom: 20px;
        }

        .option {
            margin-bottom: 12px;
            position: relative;
        }

        .option label {
            display: flex;
            align-items: flex-start;
            cursor: pointer;
            padding: 15px 20px;
            border-radius: 10px;
            transition: all 0.3s ease;
            background: #f8f9fa;
            border: 2px solid transparent;
            min-height: 60px;
        }

        .option label:hover {
            background: #e9ecef;
            transform: translateX(5px);
        }

        .option input[type="radio"] {
            margin-right: 15px;
            margin-top: 3px;
            transform: scale(1.3);
        }

        .option-text {
            flex: 1;
            line-height: 1.4;
            font-size: 1em;
        }

        .selected-option {
            background: #e3f2fd !important;
            border-color: #2196f3 !important;
        }

        .correct-answer {
            background: #d4edda !important;
            border-color: #28a745 !important;
            border-width: 3px !important;
        }

        .incorrect-answer {
            background: #f8d7da !important;
            border-color: #dc3545 !important;
            border-width: 3px !important;
        }

        .answer-indicator {
            margin-left: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }

        .correct-icon {
            color: #28a745;
        }

        .incorrect-icon {
            color: #dc3545;
        }

        .controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 2px solid #e9ecef;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            min-width: 120px;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.4);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover:not(:disabled) {
            background: #5a6268;
            transform: translateY(-2px);
        }

        .btn-success {
            background: linear-gradient(135deg, #28a745, #20c997);
            color: white;
        }

        .btn-success:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(40, 167, 69, 0.4);
        }

        .result-summary {
            text-align: center;
            padding: 30px;
            border-radius: 15px;
            margin-bottom: 30px;
            color: white;
        }

        .result-approved {
            background: linear-gradient(135deg, #28a745, #20c997);
        }

        .result-failed {
            background: linear-gradient(135deg, #dc3545, #fd7e14);
        }

        .result-summary h2 {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .result-summary .score {
            font-size: 1.5em;
            margin-bottom: 10px;
        }

        .result-summary .message {
            font-size: 1.1em;
            margin-top: 15px;
        }

        .review-section {
            margin-top: 30px;
        }

        .review-section h3 {
            color: #667eea;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-align: center;
        }

        .review-question {
            background: white;
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .review-question.correct {
            border-left: 5px solid #28a745;
        }

        .review-question.incorrect {
            border-left: 5px solid #dc3545;
        }

        .review-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .review-number {
            background: #667eea;
            color: white;
            padding: 5px 12px;
            border-radius: 15px;
            font-weight: bold;
            margin-right: 10px;
            min-width: 50px;
            text-align: center;
        }

        .review-status {
            font-weight: bold;
            font-size: 1.1em;
        }

        .passing-score-info {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            text-align: center;
        }

        .passing-score-info strong {
            color: #1976d2;
            font-size: 1.1em;
        }

        .hidden {
            display: none;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        .slide-in {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(30px); }
            to { opacity: 1; transform: translateX(0); }
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .question-header {
                flex-direction: column;
            }

            .question-number {
                align-self: flex-start;
                margin-bottom: 15px;
                margin-right: 0;
            }

            .controls {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>SCRUM Product Owner Professional Certificate</h1>
            <p>Examen de Preparaci√≥n - 40 Preguntas</p>
        </div>

        <div class="passing-score-info">
            <strong>üìã Puntuaci√≥n m√≠nima para aprobar: 32/40 respuestas correctas (80%)</strong>
        </div>

        <div class="progress-container">
            <div class="progress-bar" id="progressBar">1/40</div>
        </div>

        <!-- Vista de Pregunta -->
        <div id="questionView" class="question-card fade-in">
            <div>
                <div class="question-header">
                    <div class="question-number" id="questionNumber">1/40</div>
                    <div class="question-text" id="questionText"></div>
                </div>
                <div class="options" id="optionsContainer"></div>
            </div>
            <div class="controls">
                <button type="button" id="prevBtn" class="btn btn-secondary" disabled>‚Üê Anterior</button>
                <button type="button" id="nextBtn" class="btn btn-primary" disabled>Siguiente ‚Üí</button>
                <button type="button" id="finishBtn" class="btn btn-success hidden">Finalizar Examen</button>
            </div>
        </div>

        <!-- Vista de Resultados -->
        <div id="resultView" class="hidden">
            <div id="resultSummary" class="result-summary">
                <h2 id="resultTitle"></h2>
                <div class="score" id="resultScore"></div>
                <div class="message" id="resultMessage"></div>
            </div>

            <div class="review-section">
                <h3>üìù Revisi√≥n de Respuestas</h3>
                <div id="reviewContainer"></div>
            </div>

            <div style="text-align: center; margin-top: 30px;">
                <button type="button" id="restartBtn" class="btn btn-primary">Reiniciar Examen</button>
            </div>
        </div>
    </div>

    <script>
        const questions = [
            {
                id: 1,
                text: "Un Development Team ha estado trabajando en varios Sprint, el Product Owner comparte su plan para las pr√≥ximas interacciones, este plan es de alto nivel que describe c√≥mo es probable que crezca el producto. ¬øCu√°l es el artefacto al que el Product Owner se refiere?",
                options: [
                    "Sprint Backlog.",
                    "Product Backlog.",
                    "Roadmap del producto.",
                    "Project Charter."
                ],
                correct: 1
            },
            {
                id: 2,
                text: "¬øQu√© es importante en todos los proyectos de Scrum?\n1. La Auto-organizaci√≥n.\n2. Jerarqu√≠as claras de la empresa.\n3. Comunicaci√≥n.\n4. Mejora continua.",
                options: [
                    "1, 2, 3 y 4.",
                    "1, 3 y 4.",
                    "1, 4.",
                    "1, 2 y 3."
                ],
                correct: 1
            },
            {
                id: 3,
                text: "¬øCu√°l de las siguientes no es una responsabilidad del Product Owner?",
                options: [
                    "Garantizar el ROI.",
                    "Ejecuci√≥n de la Daily Scrum.",
                    "Reunir los PBI del Product Backlog.",
                    "La inspecci√≥n del trabajo en el Sprint Review Meeting."
                ],
                correct: 1
            },
            {
                id: 4,
                text: "¬øLas siguientes son responsabilidades o actividades del Product Owner?\n1. Expresar claramente los elementos del Product Backlog.\n2. Ordenar los elementos en el Product Backlog.\n3. Entender y practicar la agilidad.",
                options: [
                    "Solo 1 y 2.",
                    "Solo 2 y 3.",
                    "Solo 1 y 3.",
                    "Todas."
                ],
                correct: 3
            },
            {
                id: 5,
                text: "¬øCu√°l de los siguientes enunciados es CIERTO con respecto a los Project Charter en Scrum?",
                options: [
                    "Es contractual fijando la triple restricci√≥n (tiempo-costo-alcance).",
                    "Establece una l√≠nea base de entendimientos y conexi√≥n entre el equipo y los interesados.",
                    "En la gu√≠a de Scrum no se encuentra la definici√≥n de Project Charter.",
                    "El Project Charter da al Project Manager la autoridad necesaria."
                ],
                correct: 2
            },
            {
                id: 6,
                text: "La liberaci√≥n (release) de un producto terminado (DoD) es responsabilidad del:",
                options: [
                    "Scrum Master, quien decide liberarlo o no.",
                    "Product Owner, quien decide liberarlo o no.",
                    "Scrum Team.",
                    "Development Team."
                ],
                correct: 1
            },
            {
                id: 7,
                text: "¬øEn equipos peque√±os, el Scrum Master puede asumir tambi√©n el rol del Product Owner?",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 1
            },
            {
                id: 8,
                text: "¬øQui√©nes son los involucrados en la definici√≥n del Sprint Goal?",
                options: [
                    "Development Team y Scrum Master.",
                    "Scrum Team.",
                    "Scrum Master y el Product Owner.",
                    "El Product Owner y el Development Team."
                ],
                correct: 3
            },
            {
                id: 9,
                text: "¬øC√≥mo deben ordenarse los elementos (PBI) en un Product Backlog?",
                options: [
                    "Alfab√©ticamente es el orden del Product Backlog.",
                    "Primero por la necesidad del negocio y luego cronol√≥gicamente por fecha de solicitud original del negocio.",
                    "Por prioridad e importancia para el negocio en primer lugar. Los elementos que se traducen en mayor retorno de la inversi√≥n y que cuentan con una mayor claridad, deben ser priorizados en primer lugar.",
                    "Cronol√≥gicamente por fecha de solicitud del negocio."
                ],
                correct: 2
            },
            {
                id: 10,
                text: "La definici√≥n de terminado (\"DoD\" Definition of Done), y los criterios de aceptaci√≥n, son:",
                options: [
                    "Definidos por el Development Team.",
                    "Deben ser lo mismo.",
                    "Los define el Scrum Master y el Development Team.",
                    "Son conceptos diferentes."
                ],
                correct: 3
            },
            {
                id: 11,
                text: "El Product Owner debe participar en el Daily Meeting:",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 1
            },
            {
                id: 12,
                text: "¬øQui√©n es responsable de mantener a los stakeholders informados sobre el progreso del desarrollo del producto o servicio en Scrum?",
                options: [
                    "El l√≠der del Development Team.",
                    "Project Manager.",
                    "Product Owner.",
                    "Scrum Master."
                ],
                correct: 2
            },
            {
                id: 13,
                text: "En un Sprint de un mes, el Daily Standup Meeting tiene una duraci√≥n m√°xima de:",
                options: [
                    "10 minutos.",
                    "20 minutos.",
                    "Lo que decida el Scrum Master.",
                    "Ninguna."
                ],
                correct: 3
            },
            {
                id: 14,
                text: "En un Sprint corto tiene m√°s riesgo que un Sprint largo.",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 1
            },
            {
                id: 15,
                text: "El Sprint Planning tiene algunas caracter√≠sticas, define cu√°l es la CORRECTA:",
                options: [
                    "Siempre su duraci√≥n m√°xima es de 8 horas.",
                    "El Sprint Planning tiene un m√°ximo de duraci√≥n de ocho horas para un Sprint de un mes. Para Sprints m√°s cortos, el evento es usualmente m√°s corto.",
                    "La lidera el Product Owner.",
                    "Participa el cliente."
                ],
                correct: 1
            },
            {
                id: 16,
                text: "¬øCu√°l es la secuencia m√°s com√∫n en un ciclo de vida de Scrum?",
                options: [
                    "Daily Scrum, Sprint Planning, Sprint Retrospective, Sprint Review.",
                    "Sprint Planning, Daily Scrum, Sprint Retrospective, Sprint Review.",
                    "Sprint Planning, Daily Scrum, Sprint Review, Sprint Retrospective.",
                    "Ninguna."
                ],
                correct: 3
            },
            {
                id: 17,
                text: "El Product Owner...",
                options: [
                    "Participa en la Daily Scrum o reuni√≥n diaria.",
                    "Participa en la reuni√≥n de cierre del Sprint.",
                    "Preside el Sprint Planning Meeting.",
                    "Ninguna de las anteriores."
                ],
                correct: 2
            },
            {
                id: 18,
                text: "¬øScrum recomienda la creaci√≥n de sub-equipos en el Development Team como pruebas o an√°lisis de negocio (BA), esto qui√©n debe hacerlo?",
                options: [
                    "El Product Owner.",
                    "El Scrum Master.",
                    "El √°rea de Recurso Humano.",
                    "Scrum no reconoce sub-equipos en el Development Team."
                ],
                correct: 3
            },
            {
                id: 19,
                text: "El Backlog Refinement Meeting o reuni√≥n de refinamiento en Sprints de un mes, tiene una duraci√≥n de:",
                options: [
                    "4 horas m√°ximo.",
                    "La suma de las reuniones deben durar entre un 5 % y 10 %, de la duraci√≥n total del proyecto.",
                    "La suma de las reuniones deben durar entre un 8 % y 10 %, de la duraci√≥n total del Sprint.",
                    "Ninguna."
                ],
                correct: 2
            },
            {
                id: 20,
                text: "Actualmente est√° trabajando para una empresa que est√° creando una aplicaci√≥n para responder a las solicitudes de los usuarios. Dada la importancia de este proyecto, se deber√≠a asignar:",
                options: [
                    "Dos Product Owners.",
                    "S√≥lo se recomienda un Product Owner.",
                    "Un Product Owner y dos Scrum Masters.",
                    "Se recomienda que el Scrum Master haga el trabajo del Product Owner."
                ],
                correct: 1
            },
            {
                id: 21,
                text: "¬øQu√© t√©cnica se utiliza para estimar en Scrum?",
                options: [
                    "Estimaciones asignadas por el Scrum Master.",
                    "Estimaciones grupales.",
                    "Todas.",
                    "Ninguna."
                ],
                correct: 3
            },
            {
                id: 22,
                text: "Si dos Development Teams, trabajan en el mismo producto, ¬øtienen diferentes Product Backlogs?",
                options: [
                    "Si.",
                    "No."
                ],
                correct: 1
            },
            {
                id: 23,
                text: "La suma de todos los Sprints Backlogs es el Product Backlog:",
                options: [
                    "Si.",
                    "No."
                ],
                correct: 0
            },
            {
                id: 24,
                text: "El Development Team:",
                options: [
                    "Participa en la Daily Scrum.",
                    "Participa en la reuni√≥n de levantamiento de requerimientos.",
                    "Participa en el Kick-Off del proyecto.",
                    "Ninguna de las anteriores."
                ],
                correct: 0
            },
            {
                id: 25,
                text: "En Scrum el Product Increment, se debe entregar siempre al cliente.",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 1
            },
            {
                id: 26,
                text: "Una User Story tiene las siguientes caracter√≠sticas:",
                options: [
                    "Las ayuda a definir el Product Owner.",
                    "Siempre se descompone en tareas.",
                    "Tiene criterios de aceptaci√≥n.",
                    "Todas las anteriores."
                ],
                correct: 2
            },
            {
                id: 27,
                text: "El Product Owner, estima las User Stories.",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 1
            },
            {
                id: 28,
                text: "¬øEs verdad que solo el Product Owner tiene la autoridad para cancelar el Sprint si y solo si con la influencia de los interesados?",
                options: [
                    "Si.",
                    "No."
                ],
                correct: 1
            },
            {
                id: 29,
                text: "El Product Backlog, se suele dividir en:",
                options: [
                    "El Product Backlog nunca est√° completo.",
                    "Cambia constantemente para identificar lo que el producto necesita.",
                    "Evoluciona a medida que el producto se va completando.",
                    "Todas."
                ],
                correct: 3
            },
            {
                id: 30,
                text: "Un _____________________ se crea durante la primera mitad de la reuni√≥n de la Sprint Planning y un _________________ se crea durante la segunda mitad de la reuni√≥n de Sprint Planning.",
                options: [
                    "Product Backlog, Sprint Backlog.",
                    "La cartera de productos, colecci√≥n de tareas.",
                    "Sprint Goal, Sprint Backlog.",
                    "Burndown chart, Pila del Sprint."
                ],
                correct: 2
            },
            {
                id: 31,
                text: "¬øCu√°l es la principal diferencia entre el Product Backlog y el Sprint Backlog?",
                options: [
                    "El Product Backlog es igual a Sprint Backlog.",
                    "El Product Backlog es un subconjunto del Sprint Backlog.",
                    "El Sprint Backlog es un subconjunto del Product Backlog.",
                    "El Sprint Backlog es la responsabilidad del Product Owner."
                ],
                correct: 2
            },
            {
                id: 32,
                text: "¬øQu√© ocurre cuando el Sprint se cancela?",
                options: [
                    "El Scrum Team se disuelve inmediatamente.",
                    "El Sprint Backlog completo se vuelve a poner en el Product Backlog.",
                    "Los elementos completados en el Sprint Backlog se eval√∫an para una liberaci√≥n y elementos incompletos se descartan.",
                    "Los elementos completados en el Sprint Backlog se eval√∫an para una liberaci√≥n y los elementos incompletos se ponen de nuevo en el Product Backlog."
                ],
                correct: 3
            },
            {
                id: 33,
                text: "¬øQui√©n determina cu√°ndo es apropiado actualizar el Sprint Backlog durante un Sprint?",
                options: [
                    "El Project Manager.",
                    "El Scrum Team.",
                    "El Development Team.",
                    "El Product Owner."
                ],
                correct: 1
            },
            {
                id: 34,
                text: "El Sprint Goal se selecciona antes de crear el Sprint Backlog.",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 0
            },
            {
                id: 35,
                text: "¬øEn cu√°l de los siguientes casos se podr√≠a cancelar un Sprint?\n1. Si el Development no lograra cumplir con los objetivos que se plante√≥ para el Sprint.\n2. Si cambian las condiciones del mercado o de la tecnolog√≠a, haciendo que el objetivo del Sprint se vuelva obsoleto.\n3. Nunca debe ser cancelado, su corta duraci√≥n permite la definici√≥n de objetivos alcanzables y hace que la cancelaci√≥n no tenga sentido.\n4. Si cambia el rumbo de la compa√±√≠a, haciendo que el Sprint Goal quede obsoleto.",
                options: [
                    "Solo la 1.",
                    "Solo la 3.",
                    "2 y 4.",
                    "1 y 2."
                ],
                correct: 2
            },
            {
                id: 36,
                text: "¬øCu√°les son los eventos en Scrum?",
                options: [
                    "Daily Meeting.",
                    "Sprint Retrospective.",
                    "Sprint Review y Sprint Planning.",
                    "Todas las anteriores."
                ],
                correct: 3
            },
            {
                id: 37,
                text: "¬øEl Product Owner es la √∫nica persona responsable de gestionar el Product Backlog?",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 0
            },
            {
                id: 38,
                text: "El prop√≥sito de cada Sprint es entregar Incrementos de funcionalidad que potencialmente se puedan poner en producci√≥n, y que se ajustan a la Definici√≥n de ¬´Done¬ª.",
                options: [
                    "Verdadero.",
                    "Falso."
                ],
                correct: 0
            },
            {
                id: 39,
                text: "El refinamiento es el acto de a√±adir detalle, estimaciones y orden a los elementos del Product Backlog, este:",
                options: [
                    "Usualmente consume no m√°s del 10 % de la capacidad del Development Team.",
                    "Usualmente consume no m√°s del 20 % de la capacidad del Development Team.",
                    "Usualmente consume no m√°s del 30 % de la capacidad del Development Team.",
                    "Usualmente consume no m√°s del 40 % de la capacidad del Development Team."
                ],
                correct: 0
            },
            {
                id: 40,
                text: "¬øCu√°les son los artefactos en Scrum?",
                options: [
                    "Product Backlog, Sprint Backlog y Product Increment.",
                    "Sprint Backlog, Product Increment y Sprint.",
                    "Product Increment, Product Backlog y User Story."
                ],
                correct: 0
            }
        ];

        let currentQuestionIndex = 0;
        let answers = {};
        const PASSING_SCORE = 32;

        function renderQuestion() {
            const question = questions[currentQuestionIndex];
            
            document.getElementById('questionNumber').textContent = `${currentQuestionIndex + 1}/40`;
            document.getElementById('questionText').innerHTML = question.text.replace(/\n/g, '<br>');
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.className = 'option';
                
                const isSelected = answers[question.id] === index;
                
                optionDiv.innerHTML = `
                    <label ${isSelected ? 'class="selected-option"' : ''}>
                        <input type="radio" name="currentQuestion" value="${index}" ${isSelected ? 'checked' : ''} 
                               onchange="selectOption(${index})">
                        <span class="option-text">${String.fromCharCode(97 + index)}) ${option}</span>
                    </label>
                `;
                
                optionsContainer.appendChild(optionDiv);
            });
            
            updateButtons();
            updateProgress();
            
            document.getElementById('questionView').classList.add('slide-in');
        }

        function selectOption(optionIndex) {
            const question = questions[currentQuestionIndex];
            answers[question.id] = optionIndex;
            
            document.querySelectorAll('.option label').forEach(label => {
                label.classList.remove('selected-option');
            });
            
            const selectedLabel = document.querySelector(`input[value="${optionIndex}"]`).closest('label');
            selectedLabel.classList.add('selected-option');
            
            updateButtons();
        }

        function updateButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const finishBtn = document.getElementById('finishBtn');
            
            prevBtn.disabled = currentQuestionIndex === 0;
            
            const hasAnswer = answers[questions[currentQuestionIndex].id] !== undefined;
            
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('hidden');
                finishBtn.classList.remove('hidden');
                finishBtn.disabled = !hasAnswer;
            } else {
                nextBtn.classList.remove('hidden');
                finishBtn.classList.add('hidden');
                nextBtn.disabled = !hasAnswer;
            }
        }

        function updateProgress() {
            const answered = Object.keys(answers).length;
            const percentage = Math.round((answered / questions.length) * 100);
            const progressBar = document.getElementById('progressBar');
            progressBar.style.width = percentage + '%';
            progressBar.textContent = `${currentQuestionIndex + 1}/40`;
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                renderQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                renderQuestion();
            }
        }

        function finishExam() {
            if (Object.keys(answers).length < questions.length) {
                alert('Por favor, responde todas las preguntas antes de finalizar el examen.');
                return;
            }
            
            let correctCount = 0;
            
            questions.forEach(question => {
                if (answers[question.id] === question.correct) {
                    correctCount++;
                }
            });
            
            showResults(correctCount);
        }

        function showResults(correctCount) {
            const isApproved = correctCount >= PASSING_SCORE;
            const percentage = Math.round((correctCount / questions.length) * 100);
            
            // Ocultar vista de pregunta
            document.getElementById('questionView').classList.add('hidden');
            
            // Configurar resumen de resultados
            const resultSummary = document.getElementById('resultSummary');
            const resultTitle = document.getElementById('resultTitle');
            const resultScore = document.getElementById('resultScore');
            const resultMessage = document.getElementById('resultMessage');
            
            if (isApproved) {
                resultSummary.classList.add('result-approved');
                resultSummary.classList.remove('result-failed');
                resultTitle.textContent = 'üéâ ¬°APROBADO!';
                resultMessage.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>¬°Felicitaciones!</strong> Has superado el examen exitosamente.
                    </div>
                    <div>
                        Puntuaci√≥n m√≠nima requerida: <strong>32/40 (80%)</strong><br>
                        Tu puntuaci√≥n: <strong>${correctCount}/40 (${percentage}%)</strong>
                    </div>
                `;
            } else {
                resultSummary.classList.add('result-failed');
                resultSummary.classList.remove('result-approved');
                resultTitle.textContent = '‚ùå NO APROBADO';
                resultMessage.innerHTML = `
                    <div style="margin-bottom: 15px;">
                        <strong>No alcanzaste la puntuaci√≥n m√≠nima.</strong> ¬°No te desanimes!
                    </div>
                    <div>
                        Puntuaci√≥n m√≠nima requerida: <strong>32/40 (80%)</strong><br>
                        Tu puntuaci√≥n: <strong>${correctCount}/40 (${percentage}%)</strong><br>
                        Te faltan <strong>${PASSING_SCORE - correctCount}</strong> respuestas correctas m√°s.
                    </div>
                `;
            }
            
            resultScore.textContent = `${correctCount}/40 respuestas correctas`;
            
            // Generar revisi√≥n de respuestas
            generateReview();
            
            // Mostrar vista de resultados
            document.getElementById('resultView').classList.remove('hidden');
            document.getElementById('resultView').classList.add('fade-in');
            
            // Scroll al resultado
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function generateReview() {
            const reviewContainer = document.getElementById('reviewContainer');
            reviewContainer.innerHTML = '';
            
            questions.forEach((question, index) => {
                const userAnswer = answers[question.id];
                const isCorrect = userAnswer === question.correct;
                
                const reviewCard = document.createElement('div');
                reviewCard.className = `review-question ${isCorrect ? 'correct' : 'incorrect'}`;
                
                let optionsHTML = '';
                question.options.forEach((option, optIndex) => {
                    let optionClass = '';
                    let indicator = '';
                    
                    // Si es la respuesta correcta
                    if (optIndex === question.correct) {
                        optionClass = 'correct-answer';
                        indicator = '<span class="answer-indicator correct-icon">‚úì Correcta</span>';
                    }
                    
                    // Si el usuario seleccion√≥ esta opci√≥n y es incorrecta
                    if (optIndex === userAnswer && optIndex !== question.correct) {
                        optionClass = 'incorrect-answer';
                        indicator = '<span class="answer-indicator incorrect-icon">‚úó Tu respuesta</span>';
                    }
                    
                    optionsHTML += `
                        <div class="option">
                            <label class="${optionClass}">
                                <input type="radio" disabled ${optIndex === userAnswer ? 'checked' : ''}>
                                <span class="option-text">${String.fromCharCode(97 + optIndex)}) ${option}</span>
                                ${indicator}
                            </label>
                        </div>
                    `;
                });
                
                reviewCard.innerHTML = `
                    <div class="review-header">
                        <div class="review-number">${index + 1}</div>
                        <div class="review-status ${isCorrect ? 'correct-icon' : 'incorrect-icon'}">
                            ${isCorrect ? '‚úì Correcta' : '‚úó Incorrecta'}
                        </div>
                    </div>
                    <div class="question-text" style="margin-bottom: 15px;">
                        ${question.text.replace(/\n/g, '<br>')}
                    </div>
                    <div class="options">
                        ${optionsHTML}
                    </div>
                `;
                
                reviewContainer.appendChild(reviewCard);
            });
        }

        function restartExam() {
            // Reiniciar variables
            currentQuestionIndex = 0;
            answers = {};
            
            // Ocultar vista de resultados
            document.getElementById('resultView').classList.add('hidden');
            document.getElementById('resultSummary').classList.remove('result-approved', 'result-failed');
            
            // Mostrar vista de pregunta
            document.getElementById('questionView').classList.remove('hidden');
            
            // Reiniciar primera pregunta
            renderQuestion();
            
            // Scroll al inicio
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Event Listeners
        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('finishBtn').addEventListener('click', finishExam);
        document.getElementById('restartBtn').addEventListener('click', restartExam);

        // Inicializaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            renderQuestion();
        });

        // Atajos de teclado
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('questionView').classList.contains('hidden')) return;
            
            if (e.key === 'ArrowRight' && !document.getElementById('nextBtn').disabled) {
                nextQuestion();
            } else if (e.key === 'ArrowLeft' && !document.getElementById('prevBtn').disabled) {
                prevQuestion();
            } else if (e.key >= '1' && e.key <= '4') {
                const optionIndex = parseInt(e.key) - 1;
                const question = questions[currentQuestionIndex];
                if (optionIndex < question.options.length) {
                    selectOption(optionIndex);
                }
            }
        });
    </script>
</body>
</html>
